---
import MainLayout from "../layouts/MainLayout.astro";
import Button from "../components/Button.astro";
import { Icon } from "astro-icon";
import PostItem from "../components/PostItem.astro";
import { getCollection } from "astro:content";

const posts = await getCollection("prompt");
---

<MainLayout>
  <main>
    <section class="min-h-screen text-white flex flex-col justify-center items-center gap-16">
      <h1
        class="sm:w-8/12 text-center text-3xl px-4 sm:px-0 sm:text-6xl font-extrabold leading-snug sm:leading-normal z-40 animate-text bg-gradient-to-r from-indigo-500 via-purple-500 to-cyan-500 bg-clip-text text-transparent"
      >
        highprom.pt is a collection of curated prompts for specialized topics, designed to produce superior results.
      </h1>
      <a href="/contribute" class="flex flex-col items-center">
        <Button text="Become a Contributor" className="z-40" />
      </a>
      <img
        src="/images/highprom.pt-home-hero-background.jpg"
        alt="View of Earth from space with continents visible"
        class="absolute inset-0 object-cover"
      />
      <div class="z-10 absolute inset-0 object-cover from-slate-800/80 to-slate-900 bg-gradient-to-b"></div>
      <div class="text-slate-500 absolute bottom-4 z-40">
        <a href="/#prompts" class="flex flex-col items-center">
          <span>Browser Prompts</span>
          <Icon name="ic:baseline-keyboard-arrow-down" width="48" />
        </a>
      </div>
    </section>
    <section class="max-w-[1024px] m-auto py-32 px-4 sm:px-0 flex flex-col items-center gap-12 sm:gap-24" id="prompts">
      <header class="flex flex-col gap-12">
        <h2 class="text-4xl sm:text-6xl font-extrabold text-center">All Prompts ({posts.length})</h2>
      </header>
      <main class="grid grid-cols-1 sm:grid-cols-2 gap-8">
        {posts.map((post) => <PostItem data={post} />)}
      </main>
    </section>
  </main>
</MainLayout>
